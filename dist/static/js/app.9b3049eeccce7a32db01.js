webpackJsonp([1],{"+GFU":function(e,t){},"0UKA":function(e,t){},"0uKF":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),r=n("RRo+"),a=n.n(r),s={data:function(){var e=this;return{ruleForm2:{pass:"",userName:"",age:"",formMessage:""},rules2:{pass:[{validator:function(t,n,o){""===n?o(new Error("请输入密码")):(""!==e.ruleForm2.checkPass&&e.$refs.ruleForm2.validateField("checkPass"),o())},trigger:"blur"}],userName:[{validator:function(e,t,n){""===t?n(new Error("请输入用户名")):n()},trigger:"blur"}],age:[{validator:function(e,t,n){if(!t)return n(new Error("年龄不能为空"));setTimeout(function(){a()(t)?t<18?n(new Error("必须年满18岁")):n():n(new Error("请输入数字值"))},1e3)},trigger:"blur"}]},dialogTableVisible:!1,dialogFormVisible:!1,form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""},formLabelWidth:"120px"}},methods:{showBox:function(){this.dialogFormVisible=!0},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.axios.post("/register?user_name="+t.ruleForm2.userName+"&psd="+t.ruleForm2.pass).then(function(e){0===e.data.status?t.dialogFormVisible=!1:t.ruleForm2.formMessage=e.data.message}).catch(function(e){t.ruleForm2.formMessage="登录失败"})})},resetForm:function(e){this.$refs[e].resetFields(),this.ruleForm2.formMessage=""}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-dialog",{attrs:{title:"登录",visible:e.dialogFormVisible,center:!0,width:"600px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[n("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm2.userName,callback:function(t){e.$set(e.ruleForm2,"userName",t)},expression:"ruleForm2.userName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码",prop:"pass"}},[n("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm2.pass,callback:function(t){e.$set(e.ruleForm2,"pass",t)},expression:"ruleForm2.pass"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v("提交")]),e._v(" "),n("el-button",{on:{click:function(t){return e.resetForm("ruleForm2")}}},[e._v("重置")]),e._v(" "),n("div",{staticClass:"mar-top20"},[n("font",{attrs:{color:"red"}},[e._v(e._s(e.ruleForm2.formMessage))])],1)],1)],1)],1)},staticRenderFns:[]};var c={name:"CommonHeader",data:function(){return{activeIndex:"/"}},components:{LoginBox:n("VU/8")(s,i,!1,function(e){n("0UKA")},"data-v-69bb65b1",null).exports},created:function(){this.setHeaderNavActive()},methods:{handleSelect:function(e,t){console.log(e,t)},setHeaderNavActive:function(){this.activeIndex=this.$route.path},showLoginBox:function(){console.log(this.$refs),this.$refs.loginBox.showBox()}},watch:{$route:function(e,t){this.activeIndex=this.$route.path,console.log(this.$route.path)}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[n("el-menu-item",{attrs:{index:"/"}},[n("router-link",{attrs:{to:"/"}},[e._v("首页")])],1),e._v(" "),n("el-menu-item",{staticClass:"float-right",attrs:{index:"/register"}},[n("router-link",{attrs:{to:"/register"}},[e._v("注册")])],1),e._v(" "),n("el-menu-item",{staticClass:"float-right",attrs:{index:"/login"},on:{click:e.showLoginBox}},[n("a",[e._v("登录")])])],1),e._v(" "),n("div",{staticClass:"line"}),e._v(" "),n("LoginBox",{ref:"loginBox"})],1)},staticRenderFns:[]};var u=n("VU/8")(c,m,!1,function(e){n("zWI/")},null,null).exports,l={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"footer"},[this._v("\n    我是尾部\n")])},staticRenderFns:[]};var d=n("VU/8")({name:"CommonFooter"},l,!1,function(e){n("caFb")},"data-v-362d2650",null).exports,p={name:"App",data:function(){return{CommonHeader:u,CommonFooter:d}},methods:{setHeader:function(e){this.CommonHeader=e},setFooter:function(e){this.CommonFooter=e},checkLoginOrNo:function(){}}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("el-container",[t("el-header",{attrs:{height:"auto"}},[t(this.CommonHeader,{tag:"component"})],1),this._v(" "),t("el-container",[t("el-aside",{attrs:{width:"0"}}),this._v(" "),t("el-main",[t("router-view",{on:{setHeader:this.setHeader,setFooter:this.setFooter}})],1)],1),this._v(" "),t("el-footer",[t(this.CommonFooter,{tag:"component"})],1)],1)],1)},staticRenderFns:[]};var h=n("VU/8")(p,f,!1,function(e){n("+GFU")},null,null).exports,v=n("/ocq"),_=n("zL8q"),F=n.n(_),g=n("NYxO"),b=n("//Fk"),x=n.n(b),k=n("mtWM"),w=n.n(k);w.a.defaults.baseURL="http://127.0.0.1:3000",w.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",w.a.interceptors.request.use(function(e){return e},function(e){return x.a.reject(e)}),w.a.interceptors.response.use(function(e){return e},function(e){return x.a.reject(e)});var y=w.a,$=(n("tvR6"),n("WccI"),{render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    我是登录页\n")])},staticRenderFns:[]});var C=n("VU/8")({name:"register"},$,!1,function(e){n("0uKF")},"data-v-61a96cdb",null).exports,E=n("Dd8w"),U=n.n(E),V=this,P=Object(g.a)("cart"),R=(P.mapState,P.mapMutations),L=P.mapActions;console.log(R);var H={data:function(){return{aa:"1111",countNUm:0}},name:"chat",sockets:{connect:function(){console.log("socket connected")},customEmit:function(e){console.log('this method was fired by the socket server. eg: io.emit("customEmit", data)')}},methods:U()({sendMessage:function(e){V.$socket.emit("test",V.aa)}},L(["increment"])),computed:{count:function(){return this.$store._modules.root.state.cart.count}}},M={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("button",{on:{click:this.increment}},[this._v("dianwo")]),this._v(" "),t("div",[this._v(this._s(this.count))])])},staticRenderFns:[]};var N=n("VU/8")(H,M,!1,function(e){n("lkvv")},"data-v-ca24ca60",null).exports,I={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var O=n("VU/8")({name:"EmptyHeader"},I,!1,function(e){n("ZSGi")},"data-v-77841119",null).exports,A={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var B=n("VU/8")({name:"EmptyFooter"},A,!1,function(e){n("vnUq")},"data-v-7a217e7d",null).exports,j=Object(g.a)("user"),W=j.mapState,S=(j.mapMutations,j.mapActions,{name:"Login",data:function(){return{ruleForm:{pass:"",user_name:""},rules:{pass:[{validator:function(e,t,n){""===t?n(new Error("请输入密码")):n()},trigger:"blur"}],user_name:[{validator:function(e,t,n){""===t?n(new Error("请输入账号")):n()},trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.axios.post("http://vue.test.com/api/login.php?action=login_fn&user_name="+t.ruleForm.user_name+"&psd="+t.ruleForm.pass).then(function(e){0===e.data.status?alert("登录成功"):t.ruleForm.formMessage=e.data.message}).catch(function(e){t.ruleForm.formMessage="登录失败"})})},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){this.$emit("setHeader",O),this.$emit("setFooter",B)},computed:U()({},W({userId:function(e){return console.log(e.user_id),e.user_id}}))}),q={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"70px"}},[n("el-form-item",{attrs:{label:"账号",prop:"user_name"}},[n("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.user_name,callback:function(t){e.$set(e.ruleForm,"user_name",t)},expression:"ruleForm.user_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码",prop:"pass"}},[n("el-input",{model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),n("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1),e._v(" "),n("div",[e._v("3123"+e._s(e.userId))])],1)},staticRenderFns:[]};var z=n("VU/8")(S,q,!1,function(e){n("XLR+")},"data-v-31684b7b",null).exports,D={name:"PermissionList",data:function(){return{listData:[{name:"项目1",code:"#p1",module:[{name:"模块1",code:"#p1#m1",ability:[{name:"功能1",code:"#p1#m1#a1"},{name:"功能2",code:"#p1#m1#a2"},{name:"功能3",code:"#p1#m1#a3"}]},{name:"模块2",code:"#p1#m2",ability:[{name:"功能1",code:"#p1#m2a1"},{name:"功能2",code:"#p1#m2a2"},{name:"功能3",code:"#p1#m2a3"},{name:"功能4",code:"#p1#m2a4"},{name:"功能5",code:"#p1#m2a5"}]},{name:"模块3",code:"#p1#m3",ability:[{name:"功能1",code:"#p1#m3#a1"},{name:"功能2",code:"#p1#m3#a2"}]}]},{name:"项目2",code:"#p2",module:[{name:"模块1",code:"#p2#m1",ability:[{name:"功能1",code:"#p2#m1#a1"},{name:"功能2",code:"#p2#m1#a2"},{name:"功能3",code:"#p2#m1#a3"}]},{name:"模块2",code:"#p2#m2",ability:[{name:"功能1",code:"#p2#m2#a1"},{name:"功能2",code:"#p2#m2#a2"}]},{name:"模块3",code:"#p2#m3",ability:[{name:"功能1",code:"#p2#m3#a1"},{name:"功能2",code:"#p2#m3#a2"},{name:"功能3",code:"#p2#m3#a3"},{name:"功能4",code:"#p2#m3#a4"},{name:"功能5",code:"#p2#m3#a5"}]}]},{name:"项目3",code:"#p3",module:[{name:"模块1",code:"#p3#m1",ability:[{name:"功能1",code:"#p3#m1#a1"},{name:"功能2",code:"#p3#m1#a2"},{name:"功能3",code:"#p3#m1#a3"},{name:"功能4",code:"#p3#m1#a4"},{name:"功能5",code:"#p3#m1#a5"},{name:"功能6",code:"#p3#m1#a6"}]},{name:"模块2",code:"#p3#m2",ability:[{name:"功能1",code:"#p3#m2#a1"}]},{name:"模块3",code:"#p3#m3",ability:[{name:"功能1",code:"#p3#m3#a1"},{name:"功能2",code:"#p3#m3#a2"},{name:"功能3",code:"#p3#m3#a3"},{name:"功能4",code:"#p3#m3#a4"},{name:"功能5",code:"#p3#m3#a5"}]}]}],hasPermission:["#p1","#p1#m1","#p1#m1#a1","#p1#m1#a2","#p1#m1#a3"]}},methods:{checkChecked:function(e,t){if(-1===this.hasPermission.indexOf(e)){for(var n in this.listData)console.log(n);this.hasPermission.push(e)}else for(var o=this.hasPermission.length-1;o>0;o--)-1!==this.hasPermission[o].indexOf(e)&&this.hasPermission.splice(o,1)}}},G={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.listData,function(t){return n("div",{staticClass:"project"},[n("div",{staticClass:"project-name"},[n("input",{attrs:{type:"checkbox",val:t.code},domProps:{checked:-1!==e.hasPermission.indexOf(t.code)?"checked":""},on:{click:function(n){return e.checkChecked(t.code,n)}}}),e._v(e._s(t.name)+"\n        ")]),e._v(" "),n("div",{staticClass:"module-box"},e._l(t.module,function(t){return n("div",{staticClass:"module"},[n("div",{staticClass:"module-name"},[n("input",{attrs:{type:"checkbox",val:t.code},domProps:{checked:-1!==e.hasPermission.indexOf(t.code)?"checked":""},on:{click:function(n){return e.checkChecked(t.code,n)}}}),e._v(e._s(t.name)+"\n                ")]),e._v(" "),n("ul",e._l(t.ability,function(t){return n("li",{staticClass:"ability"},[n("input",{attrs:{type:"checkbox",val:t.code},domProps:{checked:-1!==e.hasPermission.indexOf(t.code)?"checked":""},on:{click:function(n){return e.checkChecked(t.code,n)}}}),e._v(e._s(t.name)+"\n                    ")])}),0)])}),0)])}),0)},staticRenderFns:[]};var K=n("VU/8")(D,G,!1,function(e){n("o3VM")},"data-v-42ac8d96",null).exports;n("HI0L");o.default.use(g.b),o.default.use(F.a),o.default.use(v.a),o.default.prototype.axios=y;var T=new v.a({routes:[{path:"/login",name:"Login",component:z},{path:"/permissionlist",name:"PermissionList",component:K},{path:"/register",name:"register",component:C},{path:"/chat",name:"chat",component:N}]}),X={namespaced:!0,state:{count:4},getters:{},actions:{increment:function(e){var t=e.commit;e.state,t("increment")}},mutations:{increment:function(e){console.log(e.count),e.count++}}},Z={namespaced:!0,state:{},getters:{},actions:{},mutations:{}},J={namespaced:!0,state:{count:4,user_id:9999999},getters:{},actions:{increment:function(e){var t=e.commit;e.state,t("increment")}},mutations:{increment:function(e){console.log(e.count),e.count++}}};o.default.use(g.b);var Y=new g.b.Store({modules:{cart:X,products:Z,user:J},strict:!1});o.default.config.productionTip=!1,new o.default({el:"#app",store:Y,router:T,components:{App:h},template:"<App/>",render:function(e){return e(h)}})},WccI:function(e,t){},"XLR+":function(e,t){},ZSGi:function(e,t){},caFb:function(e,t){},lkvv:function(e,t){},o3VM:function(e,t){},tvR6:function(e,t){},vnUq:function(e,t){},"zWI/":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.9b3049eeccce7a32db01.js.map